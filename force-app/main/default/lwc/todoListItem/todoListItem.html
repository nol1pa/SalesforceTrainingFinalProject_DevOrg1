<template>
    <div class="slds-box slds-box_xx-small slds-var-m-bottom_small">
        <ul>
            <lightning-layout>
                <lightning-layout-item>
                    <lightning-icon alternative-text="icon" title="icon" size="x-small">
                    </lightning-icon>
                </lightning-layout-item>
                <lightning-layout-item class="slds-var-m-left_small">
                    <li><b>{todo.Name}</b></li>
                </lightning-layout-item>
                <lightning-layout-item alignment-bump="left">
                    <input type="checkbox" checked={todo.Is_Done__c}
                    onchange={handleTodoDoneChange} disabled={isdisabled}/>
                </lightning-layout-item>
            </lightning-layout>
            <template if:true={todo.SubToDos__r}>
                <li>
                    <ul class="slds-is-nested slds-list_dotted">
                        <template for:each={todo.SubToDos__r} for:item="subtodo">
                            <lightning-layout key={subtodo.Id}>
                                <lightning-layout-item>
                                    <li>{subtodo.Name}</li>
                                </lightning-layout-item>
                                <lightning-layout-item alignment-bump="left">
                                    <input type="checkbox" data-item={subtodo.Id} checked={subtodo.Is_Done__c} value={subtodo.Id} onchange={handleSubTodoDoneChange} 
                                    disabled={isdisabled}/>
                                </lightning-layout-item>
                            </lightning-layout>
                        </template>
                    </ul>
                </li>
            </template>
        </ul>
    </div>
</template>